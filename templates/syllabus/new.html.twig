{% extends 'base.html.twig' %}

{% block title %}Nouveau Syllabus{% endblock %}

{% block body %}
<div class="min-h-full bg-slate-50">
    <nav class="bg-blue-900 shadow-md">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex h-16 items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="bg-white/10 p-2 rounded text-white font-bold tracking-widest text-xs uppercase">AP</div>
                    <span class="text-white font-semibold text-lg tracking-wide">Assistant Pédagogique</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="py-12">
        <header>
            <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 text-center mb-8">
                <h1 class="text-3xl font-bold tracking-tight text-slate-900">Importation de Syllabus</h1>
                <p class="mt-2 text-slate-500">Ajoutez un nouveau cours pour démarrer l'analyse.</p>
            </div>
        </header>
        <main>
            <div class="mx-auto max-w-3xl sm:px-6 lg:px-8">
                <div class="bg-white shadow-md border border-slate-200 rounded overflow-hidden">
                    <div class="px-8 py-8">
                        {{ form_start(form) }}
                            <div class="space-y-8">
                                <div>
                                    {{ form_label(form.title, null, {'label_attr': {'class': 'block text-sm font-bold text-slate-900 mb-2 uppercase tracking-wide'}}) }}
                                    <div class="mt-1">
                                        {{ form_widget(form.title, {'attr': {'class': 'block w-full rounded border-slate-300 py-2.5 text-slate-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm'}}) }}
                                        {{ form_errors(form.title, {'attr': {'class': 'text-red-600 text-sm mt-1'}}) }}
                                    </div>
                                </div>

                                <div class="bg-slate-50 p-6 rounded border border-slate-200">
                                    <h3 class="text-sm font-bold text-slate-900 uppercase tracking-wide mb-4 border-b border-slate-200 pb-2">Source du document</h3>
                                    
                                    <div class="mb-6">
                                        {{ form_label(form.pdfFile, null, {'label_attr': {'class': 'block text-sm font-medium text-slate-700 mb-2'}}) }}
                                        {{ form_widget(form.pdfFile, {'attr': {'class': 'block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-bold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100'}}) }}
                                        <p class="mt-2 text-xs text-slate-500">Format PDF accepté uniquement.</p>
                                        {{ form_errors(form.pdfFile, {'attr': {'class': 'text-red-600 text-sm mt-1'}}) }}
                                    </div>

                                    <div class="relative flex py-2 items-center mb-6">
                                        <div class="flex-grow border-t border-slate-200"></div>
                                        <span class="flex-shrink-0 mx-4 text-slate-400 text-xs font-bold uppercase">Ou saisie manuelle</span>
                                        <div class="flex-grow border-t border-slate-200"></div>
                                    </div>

                                    <div>
                                        {{ form_label(form.rawText, null, {'label_attr': {'class': 'block text-sm font-medium text-slate-700 mb-2'}}) }}
                                        {{ form_widget(form.rawText, {'attr': {
                                            'class': 'block w-full rounded border-slate-300 py-2 text-slate-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm',
                                            'rows': 6,
                                            'placeholder': 'Collez le contenu du cours ici...'
                                        }}) }}
                                        {{ form_errors(form.rawText, {'attr': {'class': 'text-red-600 text-sm mt-1'}}) }}
                                    </div>
                                </div>

                                <div class="flex items-center justify-between border-t border-slate-100 pt-6">
                                    <a href="{{ path('app_dashboard') }}" class="text-sm font-medium text-slate-500 hover:text-slate-800">Annuler</a>
                                    <button type="submit" class="rounded bg-blue-800 px-8 py-3 text-sm font-bold text-white shadow hover:bg-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-800 transition-colors uppercase tracking-wide">
                                        Enregistrer le Syllabus
                                    </button>
                                </div>
                            </div>
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
{% endblock %}
